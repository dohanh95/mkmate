<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple.css">
  <title>T√†i li·ªáu s·ª≠ d·ª•ng Mkmate</title>
</head>
<body>
  <div id="app"></div>
  <script>
    window.$docsify = {
      name       : 'Mkmate',
      themeable: {
          readyTransition : true, // default
          responsiveTables: true  // default
      },
      loadSidebar: 'docs/_sidebar.md',
      search: {
          depth      : 3,
          noData     : 'Kh√¥ng t√¨m th·∫•y g√¨!',
          placeholder: 'T√¨m ki·∫øm...'
      },
      lastModified: {
            repo: 'osdvn/mkmate',
      },
      plugins: [
        function(hook, vm) {
          hook.beforeEach(function(html) {
            var url =
              'https://github.com/osdvn/mkmate/tree/main/docs/' +
              vm.route.file;
            var editHtml = ' [üìù S·ª≠a](' + url + ')\n';

            return (
              html +
              editHtml
            );
          });
        }
      ]
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/docsify@4/lib/docsify.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/js/docsify-themeable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/docsify-tabs@1/dist/docsify-tabs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/docsify-copy-code@2/dist/docsify-copy-code.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/docsify-pagination@2/dist/docsify-pagination.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/docsify@4/lib/plugins/external-script.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/docsify@4/lib/plugins/search.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/docsify@4/lib/plugins/zoom-image.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/tinydate@1.3.0/dist/tinydate.min.js"></script>
    <script>
      var CONFIG = {
    repo: '',
    basePath: 'docs/',
    preString: 'Ng√†y s·ª≠a:',
    dateFormat: '{YYYY}-{MM}-{DD} {HH}:{mm}:{ss}',
    align: 'right',
};

var install = function (hook, vm) {
    var opts = vm.config.lastModified || CONFIG;
    CONFIG.repo = opts.repo && typeof opts.repo === 'string' ? opts.repo : CONFIG.repo;
    CONFIG.basePath = opts.basePath && typeof opts.basePath === 'string' ? opts.basePath : CONFIG.basePath;
    CONFIG.preString = opts.preString && typeof opts.preString === 'string' ? opts.preString : CONFIG.preString;
    CONFIG.dateFormat = opts.dateFormat && typeof opts.dateFormat === 'string' ? opts.dateFormat : CONFIG.dateFormat;
    CONFIG.align = opts.align && typeof opts.align === 'string' ? opts.align : CONFIG.align;

    hook.beforeEach(function(html) {
        var time = '{docsify-updated}';
        if (CONFIG.repo !== '') {
            var date_url = 'https://api.github.com/repos/' + CONFIG.repo + '/commits?per_page=1';
            
            if (CONFIG.basePath !== '') {
                date_url = date_url + '&path=' + CONFIG.basePath + vm.route.file;
            }
            fetch(date_url).then((response) => {
              return response.json();
            }).then((commits) => {
                if (commits.length > 0) {
                    time = tinydate(CONFIG.dateFormat)(new Date(commits[0]['commit']['committer']['date']));
                }
              document.getElementById('last-modified').textContent = CONFIG.preString + time;
            });
        } else {
            document.getElementById('last-modified').textContent = CONFIG.preString + time;
        }
        return (html + '\n----\n' + '<div align= ' + CONFIG.align + '><span id="last-modified"></span></div>');
    });
};

$docsify.plugins = [].concat(install, $docsify.plugins);
  </script>
</body>
</html>
